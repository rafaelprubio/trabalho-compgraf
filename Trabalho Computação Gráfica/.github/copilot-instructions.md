# Copilot instructions for this Unity project

This repository is a Unity game project. The guidance below is concise, actionable, and specific to this codebase so an AI coding agent can be productive immediately.

- Project type & env:
  - **Unity Editor**: `6000.0.55f1` (see `ProjectSettings/ProjectVersion.txt`). Use the same Unity editor version in Hub when opening the project.
  - **Scripting**: C# in `Assets/Scripts/` compiled to `Assembly-CSharp` (project file `Assembly-CSharp.csproj` is generated by Unity; do not edit it directly).
  - **Packages**: See `Packages/manifest.json` (URP, Input System, Cinemachine, TextMeshPro, Visual Scripting, Test Framework). Match these packages when adding features.

- Big-picture architecture:
  - Scene-driven gameplay: scenes named and loaded by string (examples: `MainMenu`, `GameLevel`, `Instructions`). Search for `SceneManager.LoadScene("` to find scene load sites.
  - Central game state: `Assets/Scripts/GameManager.cs` implements a MonoBehaviour singleton (`GameManager.Instance`) used to manage score, pause, and scene transitions.
  - Room-level logic: `Assets/Scripts/RoomManager.cs` holds an array of `GameObject[] enemies` and unlocks doors by toggling `door.SetActive(false)` when enemies are destroyed. Enemy lifecycle is handled via GameObject destruction rather than a separate entity system.
  - UI: Uses TextMeshPro (`TextMeshProUGUI`) for score/final score UI. UI components are wired in the Inspector rather than constructed entirely in code.
  - Starter assets: `Assets/StarterAssets/` contains player controllers and mobile input helpers used throughout scenes. Treat these as third-party starter code — prefer configuration over invasive edits.

- Project-specific conventions & cautions:
  - Scene names are embedded as string literals (e.g. `SceneManager.LoadScene("MainMenu")` in `Assets/Scripts/MainMenu.cs`). Renaming scenes requires updating these strings or switching to a constants/enum approach.
  - Many MonoBehaviours serialize references in the Inspector (GameObjects, AudioClips, UI text). When changing serialized fields, update all scene prefab instances.
  - Singletons: `GameManager` uses a simple static-instance pattern in `Awake()`. Follow that pattern if adding global managers for consistency.
  - Do not edit generated or cache folders: avoid changes in `Library/`, `Temp/`, `obj/`, `bin/`, or `Assembly-CSharp.csproj` (regenerated by Unity).

- Build, run and debug workflows (how developers typically operate):
  - Open the project with Unity Hub using the editor version in `ProjectSettings/ProjectVersion.txt`.
  - Edit C# scripts in your IDE by opening the solution (`.sln`) or the `Assets` folder; Unity regenerates `.csproj` files automatically.
  - Run/play tests with Unity Test Runner inside the Editor (Test Framework package present). You can also run headless tests with Unity CLI: `unity -projectPath <path> -runTests -testPlatform playmode` (ensure Unity CLI tooling matches the installed Editor).
  - Builds are created from Unity Editor > Build Settings. No custom build scripts in repo — prefer Editor build flow unless adding CI automation.

- Integration points & dependencies to be aware of:
  - Input System: `com.unity.inputsystem` is used (see `Packages/manifest.json`). Both old InputManager and new Input System assets may exist; check `Assets/StarterAssets/InputSystem`.
  - Render pipeline: Universal RP (`com.unity.render-pipelines.universal`), assets and materials live under `Assets/Materials` and `Assets/Scenes`.
  - TextMeshPro: UI text references use `TextMeshProUGUI` (imported package).
  - StarterAssets: `Assets/StarterAssets/` contains platform-specific mobile controls and FirstPersonController. Reuse instead of reimplementing player movement.

- Example quick edits (how to make safe changes):
  - To add a new scene and navigation: create the scene in `Assets/Scenes/`, add it to Build Settings, then update places that call `SceneManager.LoadScene("SceneName")` or add a new method in `MainMenu.cs` mirroring existing methods.
  - To add a new global service: follow `GameManager` singleton pattern (static `Instance`, `Awake()` guard). Register UI references via Inspector.
  - To update score UI: modify `GameManager.AddScore(int)` and `UpdateScoreUI()` in `Assets/Scripts/GameManager.cs` — UI is `TextMeshProUGUI` so keep string formatting simple.

- Useful file references (examples to inspect):
  - `Assets/Scripts/GameManager.cs` — central singleton pattern, score, game over/victory flows
  - `Assets/Scripts/RoomManager.cs` — room/enemy/door logic example
  - `Assets/Scripts/MainMenu.cs` — scene navigation examples
  - `Assets/StarterAssets/` — player controllers and mobile input
  - `Packages/manifest.json` — installed Unity packages and versions
  - `ProjectSettings/ProjectVersion.txt` — required Unity Editor version

If anything in this summary is unclear or you want the agent to prefer different behaviors (e.g., avoid editing scene assets, or adopt scene-name constants), tell me which preference to prioritize and I will update this file accordingly.
